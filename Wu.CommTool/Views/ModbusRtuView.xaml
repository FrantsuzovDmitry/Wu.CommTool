<UserControl
    x:Class="Wu.CommTool.Views.ModbusRtuView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:cvt="clr-namespace:Wu.CommTool.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:dvm="clr-namespace:Wu.CommTool.ViewModels.DesignViewModels"
    xmlns:ext="clr-namespace:Wu.CommTool.Extensions"
    xmlns:hc="https://handyorg.github.io/handycontrol"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:local="clr-namespace:Wu.CommTool.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:model="clr-namespace:Wu.CommTool.Models"
    xmlns:port="clr-namespace:System.IO.Ports;assembly=System.IO.Ports"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
    xmlns:wucvt="clr-namespace:Wu.Wpf.Converters;assembly=Wu.Wpf"
    d:DataContext="{x:Static dvm:ModbusRtuDesignViewModel.Instance}"
    d:DesignHeight="600"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <UserControl.Resources />

    <md:DialogHost Identifier="{x:Static local:ModbusRtuView.ViewName}" Style="{StaticResource MaterialDesignEmbeddedDialogHost}">
        <!--  主体内容  -->
        <DockPanel>
            <!--  左侧功能菜单  -->
            <DockPanel DockPanel.Dock="Left">
                <ContentControl
                    Margin="4"
                    DockPanel.Dock="Top"
                    Style="{StaticResource Effect2Control}">
                    <DockPanel>
                        <ListBox
                            Background="Transparent"
                            BorderThickness="0"
                            ItemContainerStyle="{StaticResource MenuBarsListBoxItem}"
                            ItemsSource="{Binding MenuBars}"
                            SelectedIndex="{Binding ModbusRtuFunIndex}">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="SelectionChanged">
                                    <i:InvokeCommandAction Command="{Binding ModbusRtuFunChangedCommand}" CommandParameter="{Binding SelectedItem, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListBox}}" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Background="Transparent" Orientation="Horizontal">
                                        <md:PackIcon Margin="5,0" Kind="{Binding Icon}" />
                                        <TextBlock
                                            Margin="0,0,15,0"
                                            VerticalAlignment="Center"
                                            Text="{Binding Title}" />
                                    </StackPanel>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </DockPanel>
                </ContentControl>
            </DockPanel>
            <md:Transitioner AutoApplyTransitionOrigins="True" SelectedIndex="{Binding ModbusRtuFunIndex}">
                <!--  自定义帧 Index 0  -->
                <md:TransitionerSlide>
                    <!--  DrawerHost2  -->
                    <md:DrawerHost IsLeftDrawerOpen="{Binding IsDrawersOpen2.IsLeftDrawerOpen}" IsRightDrawerOpen="{Binding IsDrawersOpen2.IsRightDrawerOpen}">
                        <!--  左侧抽屉  -->
                        <md:DrawerHost.LeftDrawerContent>
                            <DockPanel>
                                <Border DockPanel.Dock="Top" Style="{StaticResource FormBorder}">
                                    <StackPanel Orientation="Vertical">
                                        <TextBlock
                                            Margin="5"
                                            HorizontalAlignment="Center"
                                            FontSize="24"
                                            Text="串口设置" />
                                        <StackPanel Orientation="Horizontal">
                                            <ComboBox
                                                Width="230"
                                                hc:InfoElement.Placeholder="请选择串口..."
                                                hc:InfoElement.Title="串口"
                                                IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                ItemsSource="{Binding ComPorts}"
                                                SelectedValue="{Binding ComConfig.Port, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                Style="{StaticResource FormComboBox}" />
                                            <Button
                                                Width="30"
                                                Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                                Margin="5"
                                                HorizontalAlignment="Left"
                                                hc:Poptip.Content="查找串口设备"
                                                Command="{Binding ExecuteCommand}"
                                                CommandParameter="GetComPorts"
                                                Content="{md:PackIcon Kind=Search}"
                                                DockPanel.Dock="Left"
                                                Style="{StaticResource Blue_CircleButton}" />
                                        </StackPanel>
                                        <ComboBox
                                            hc:InfoElement.Placeholder="请选择波特率..."
                                            hc:InfoElement.Title="波特率"
                                            IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                            ItemsSource="{Binding Source={cvt:EnumBindingSource {x:Type model:BaudRate}}}"
                                            SelectedItem="{Binding ComConfig.BaudRate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                            Style="{StaticResource FormComboBox}" />

                                        <ComboBox
                                            hc:InfoElement.Placeholder="请选择校验位..."
                                            hc:InfoElement.Title="校验位"
                                            IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                            ItemsSource="{Binding Source={StaticResource ValueParity}}"
                                            SelectedValue="{Binding ComConfig.Parity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                            Style="{StaticResource FormComboBox}" />

                                        <ComboBox
                                            hc:InfoElement.Placeholder="请选择数据位..."
                                            hc:InfoElement.Title="数据位"
                                            IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                            ItemsSource="{StaticResource DataBits}"
                                            SelectedItem="{Binding ComConfig.DataBits, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                            Style="{StaticResource FormComboBox}" />
                                        <ComboBox
                                            hc:InfoElement.Placeholder="请选择停止位..."
                                            hc:InfoElement.Title="停止位"
                                            IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                            ItemsSource="{Binding Source={StaticResource ValueStopBits}}"
                                            SelectedItem="{Binding ComConfig.StopBits, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                            Style="{StaticResource FormComboBox}" />

                                        <StackPanel
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Top"
                                            Orientation="Horizontal">
                                            <Button
                                                Margin="20"
                                                hc:Poptip.Content="打开串口"
                                                Command="{Binding ExecuteCommand}"
                                                CommandParameter="OpenCom"
                                                Content="打开"
                                                IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                Style="{StaticResource GreenButton}" />

                                            <Button
                                                Width="60"
                                                Margin="20"
                                                hc:Poptip.Content="关闭串口"
                                                Command="{Binding ExecuteCommand}"
                                                CommandParameter="CloseCom"
                                                Content="关闭"
                                                DockPanel.Dock="Left"
                                                IsEnabled="{Binding ComConfig.IsOpened}"
                                                Style="{StaticResource RedButton}" />
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                            </DockPanel>
                        </md:DrawerHost.LeftDrawerContent>
                        <!--  主体内容  -->
                        <DockPanel>
                            <!--  头部区域  -->
                            <Grid DockPanel.Dock="Top">
                                <TextBlock Style="{StaticResource TitleTextBlock}" Text="Modbus-Rtu 自定义帧" />
                                <DockPanel LastChildFill="False">
                                    <!--  ModbusRtu 功能选择  -->
                                    <!--<Button
                                            Width="30"
                                            Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                            Margin="5"
                                            HorizontalAlignment="Left"
                                            hc:Poptip.Content="功能选择"
                                            Command="{Binding ExecuteCommand}"
                                            CommandParameter="ShowModbusRtuFunSelect"
                                            Content="{md:PackIcon Kind=Apps}"
                                            Cursor="Hand"
                                            Style="{StaticResource Blue_CircleButton}" />-->

                                    <!--  配置Com按钮  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="配置串口"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="ConfigCom"
                                        Content="{md:PackIcon Kind=Cog}"
                                        Cursor="Hand"
                                        Style="{StaticResource Blue_CircleButton}" />

                                    <!--  打开串口  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="打开串口"
                                        Background="{StaticResource Green_Background}"
                                        BorderBrush="{StaticResource Green_BorderBrush}"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="OpenCom"
                                        Content="{md:PackIcon Kind=Play}"
                                        Cursor="Hand"
                                        Foreground="{StaticResource Green_Foreground}"
                                        IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                        Style="{StaticResource MaterialDesignFloatingActionMiniButton}" />

                                    <!--  关闭串口  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="关闭串口"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="CloseCom"
                                        Content="{md:PackIcon Kind=Stop}"
                                        Cursor="Hand"
                                        IsEnabled="{Binding ComConfig.IsOpened}"
                                        Style="{StaticResource Red_CircleButton}" />

                                    <!--  暂停界面更新  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="Pause"
                                        Cursor="Hand">
                                        <md:PackIcon Width="24" Height="24">
                                            <md:PackIcon.Style>
                                                <Style TargetType="md:PackIcon">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding IsPause}" Value="true">
                                                            <Setter Property="Kind" Value="PlayPause" />

                                                        </DataTrigger>

                                                        <DataTrigger Binding="{Binding IsPause}" Value="false">
                                                            <Setter Property="Kind" Value="Pause" />

                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </md:PackIcon.Style>
                                        </md:PackIcon>
                                        <Button.Style>
                                            <Style BasedOn="{StaticResource MaterialDesignFloatingActionMiniButton}" TargetType="Button">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding IsPause}" Value="true">
                                                        <Setter Property="Foreground" Value="{StaticResource Green_Foreground}" />
                                                        <Setter Property="Background" Value="{StaticResource Green_Background}" />
                                                        <Setter Property="BorderBrush" Value="{StaticResource Green_BorderBrush}" />
                                                        <Setter Property="hc:Poptip.Content" Value="启用界面更新" />
                                                    </DataTrigger>

                                                    <DataTrigger Binding="{Binding IsPause}" Value="false">
                                                        <Setter Property="Foreground" Value="{StaticResource Yellow_Foreground}" />
                                                        <Setter Property="Background" Value="{StaticResource Yellow_Background}" />
                                                        <Setter Property="BorderBrush" Value="{StaticResource Yellow_BorderBrush}" />
                                                        <Setter Property="hc:Poptip.Content" Value="暂停界面更新" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Button.Style>
                                    </Button>

                                    <!--  清空消息按钮  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="清空消息"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="Clear"
                                        Content="{md:PackIcon Kind=Delete}"
                                        Style="{StaticResource Red_CircleButton}" />

                                    <!--  自动搜索ModbusRtu设备  -->
                                    <!--<Button
                                            Width="30"
                                            Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                            Margin="4"
                                            hc:Poptip.Content="自动搜索ModbusRtu设备"
                                            Command="{Binding ExecuteCommand}"
                                            CommandParameter="AutoSearch"
                                            Content="{md:PackIcon Kind=Search}"
                                            Cursor="Hand"
                                            DockPanel.Dock="Right"
                                            Style="{StaticResource Blue_CircleButton}" />-->
                                </DockPanel>
                            </Grid>

                            <!--  底部区域  -->
                            <StackPanel
                                Height="30"
                                DockPanel.Dock="Bottom"
                                Orientation="Horizontal">
                                <Border
                                    Width="20"
                                    Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                    Margin="10,5"
                                    CornerRadius="10">
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ComConfig.IsOpened}" Value="True">
                                                    <Setter Property="Background" Value="LawnGreen" />
                                                    <Setter Property="hc:Poptip.Content" Value="串口已打开" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding ComConfig.IsOpened}" Value="False">
                                                    <Setter Property="Background" Value="Red" />
                                                    <Setter Property="hc:Poptip.Content" Value="串口已关闭" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                </Border>
                                <TextBlock
                                    Margin="0"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{Binding ComConfig.Port.Key}" />
                                <TextBlock VerticalAlignment="Center" Text=" : " />
                                <TextBlock VerticalAlignment="Center" Text="{Binding ComConfig.Port.Value}" />
                                <TextBlock VerticalAlignment="Center" Text="  " />
                                <TextBlock VerticalAlignment="Center" Text="{Binding ComConfig.Parity}" />
                                <TextBlock VerticalAlignment="Center" Text="  " />
                                <TextBlock VerticalAlignment="Center" Text="{Binding ComConfig.DataBits}" />
                                <TextBlock
                                    Margin="5,0"
                                    VerticalAlignment="Center"
                                    Text="{Binding ComConfig.StopBits}" />

                                <Border
                                    Margin="30,3"
                                    BorderBrush="LightBlue"
                                    BorderThickness="1" />
                                <TextBlock VerticalAlignment="Center" Text="Receive: " />
                                <TextBlock VerticalAlignment="Center" Text="{Binding ReceiveBytesCount}" />
                                <TextBlock VerticalAlignment="Center" Text=" Bytes" />
                                <Border
                                    Margin="30,3"
                                    BorderBrush="LightBlue"
                                    BorderThickness="1" />
                                <TextBlock VerticalAlignment="Center" Text="Send: " />
                                <TextBlock VerticalAlignment="Center" Text="{Binding SendBytesCount}" />
                                <TextBlock VerticalAlignment="Center" Text=" Bytes" />
                            </StackPanel>

                            <!--  发送区域  -->
                            <DockPanel Height="100" DockPanel.Dock="Bottom">
                                <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                                    <ComboBox
                                        MinWidth="190"
                                        hc:InfoElement.Placeholder="请选择校验模式..."
                                        hc:InfoElement.Title="自动校验模式: "
                                        hc:InfoElement.TitleWidth="90"
                                        ItemsSource="{Binding Source={StaticResource ValueCrcMode}}"
                                        SelectedItem="{Binding CrcMode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        Style="{StaticResource FormComboBox}" />
                                    <Button
                                        Margin="10,0"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="Send"
                                        Content="发送" />
                                </StackPanel>
                                <TextBox
                                    Margin="4,0"
                                    VerticalContentAlignment="Top"
                                    hc:InfoElement.Placeholder="请输入要发送的内容..."
                                    Style="{StaticResource TextBoxExtend}"
                                    Text="{Binding SendMessage}"
                                    TextWrapping="Wrap" />
                            </DockPanel>
                            <!--  页面消息  -->
                            <ContentControl
                                Margin="4"
                                Padding="4"
                                DockPanel.Dock="Left"
                                Style="{StaticResource Effect2Control}">
                                <hc:ScrollViewer ext:ScrollViewerExtensions.AlwaysScrollToEnd="True" IsInertiaEnabled="True">
                                    <ItemsControl Background="Transparent" ItemsSource="{Binding Messages}">
                                        <ItemsControl.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <StackPanel />
                                            </ItemsPanelTemplate>
                                        </ItemsControl.ItemsPanel>
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Border Style="{StaticResource MessageBorder}">
                                                    <WrapPanel Orientation="Horizontal">
                                                        <TextBlock
                                                            Margin="3"
                                                            VerticalAlignment="Center"
                                                            Style="{StaticResource MessageTextBlock}"
                                                            Text="{Binding Time, StringFormat={}{0:yyyy-MM-dd HH:mm:ss}}" />
                                                        <TextBlock
                                                            Margin="5,0"
                                                            VerticalAlignment="Center"
                                                            Style="{StaticResource MessageTextBlock}"
                                                            Text="{Binding Type}" />
                                                        <TextBox
                                                            VerticalAlignment="Center"
                                                            FontSize="12"
                                                            FontWeight="Bold"
                                                            IsReadOnly="True"
                                                            Style="{StaticResource MessageTextBox}"
                                                            Text="{Binding Content}"
                                                            TextWrapping="Wrap" />
                                                    </WrapPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </hc:ScrollViewer>
                            </ContentControl>
                        </DockPanel>
                    </md:DrawerHost>
                </md:TransitionerSlide>

                <!--  Index 1  -->
                <md:TransitionerSlide>
                    <DockPanel>
                        <!--  头部区域  -->
                        <Grid DockPanel.Dock="Top">
                            <TextBlock Style="{StaticResource TitleTextBlock}" Text="Modbus-Rtu 搜索设备" />
                            <DockPanel LastChildFill="False">
                                <!--  ModbusRtu 功能选择按钮  -->
                                <!--<Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="功能选择"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="ShowModbusRtuFunSelect"
                                        Content="{md:PackIcon Kind=Apps}"
                                        Style="{StaticResource Blue_CircleButton}" />-->

                                <!--  暂停界面更新  -->
                                <Button
                                    Width="30"
                                    Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                    Margin="5"
                                    HorizontalAlignment="Left"
                                    Command="{Binding ExecuteCommand}"
                                    CommandParameter="Pause"
                                    Cursor="Hand">
                                    <md:PackIcon Width="24" Height="24">
                                        <md:PackIcon.Style>
                                            <Style TargetType="md:PackIcon">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding IsPause}" Value="true">
                                                        <Setter Property="Kind" Value="PlayPause" />

                                                    </DataTrigger>

                                                    <DataTrigger Binding="{Binding IsPause}" Value="false">
                                                        <Setter Property="Kind" Value="Pause" />

                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </md:PackIcon.Style>
                                    </md:PackIcon>
                                    <Button.Style>
                                        <Style BasedOn="{StaticResource MaterialDesignFloatingActionMiniButton}" TargetType="Button">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsPause}" Value="true">
                                                    <Setter Property="Foreground" Value="{StaticResource Green_Foreground}" />
                                                    <Setter Property="Background" Value="{StaticResource Green_Background}" />
                                                    <Setter Property="BorderBrush" Value="{StaticResource Green_BorderBrush}" />
                                                    <Setter Property="hc:Poptip.Content" Value="启用界面更新" />
                                                </DataTrigger>

                                                <DataTrigger Binding="{Binding IsPause}" Value="false">
                                                    <Setter Property="Foreground" Value="{StaticResource Yellow_Foreground}" />
                                                    <Setter Property="Background" Value="{StaticResource Yellow_Background}" />
                                                    <Setter Property="BorderBrush" Value="{StaticResource Yellow_BorderBrush}" />
                                                    <Setter Property="hc:Poptip.Content" Value="暂停界面更新" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Button.Style>
                                </Button>

                                <!--  清空消息按钮  -->
                                <Button
                                    Width="30"
                                    Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                    Margin="5"
                                    HorizontalAlignment="Left"
                                    hc:Poptip.Content="清空消息"
                                    Command="{Binding ExecuteCommand}"
                                    CommandParameter="Clear"
                                    Content="{md:PackIcon Kind=Delete}"
                                    Style="{StaticResource Red_CircleButton}" />
                            </DockPanel>
                        </Grid>

                        <!--  底部区域  -->
                        <StackPanel
                            Height="30"
                            DockPanel.Dock="Bottom"
                            Orientation="Horizontal">
                            <Border
                                Width="20"
                                Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                Margin="10,5"
                                CornerRadius="10">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ComConfig.IsOpened}" Value="True">
                                                <Setter Property="Background" Value="LawnGreen" />
                                                <Setter Property="hc:Poptip.Content" Value="串口已打开" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ComConfig.IsOpened}" Value="False">
                                                <Setter Property="Background" Value="Red" />
                                                <Setter Property="hc:Poptip.Content" Value="串口已关闭" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                            </Border>
                            <TextBlock
                                Margin="0"
                                VerticalAlignment="Center"
                                FontWeight="Bold"
                                Text="{Binding ComConfig.Port.Key}" />
                            <TextBlock VerticalAlignment="Center" Text=" : " />
                            <TextBlock VerticalAlignment="Center" Text="{Binding ComConfig.Port.Value}" />
                            <TextBlock VerticalAlignment="Center" Text="  " />
                            <TextBlock VerticalAlignment="Center" Text="{Binding ComConfig.Parity}" />
                            <TextBlock VerticalAlignment="Center" Text="  " />
                            <TextBlock VerticalAlignment="Center" Text="{Binding ComConfig.DataBits}" />
                            <TextBlock
                                Margin="5,0"
                                VerticalAlignment="Center"
                                Text="{Binding ComConfig.StopBits}" />

                            <Border
                                Margin="30,3"
                                BorderBrush="LightBlue"
                                BorderThickness="1" />
                            <TextBlock VerticalAlignment="Center" Text="Receive: " />
                            <TextBlock VerticalAlignment="Center" Text="{Binding ReceiveBytesCount}" />
                            <TextBlock VerticalAlignment="Center" Text=" Bytes" />
                            <Border
                                Margin="30,3"
                                BorderBrush="LightBlue"
                                BorderThickness="1" />
                            <TextBlock VerticalAlignment="Center" Text="Send: " />
                            <TextBlock VerticalAlignment="Center" Text="{Binding SendBytesCount}" />
                            <TextBlock VerticalAlignment="Center" Text=" Bytes" />
                        </StackPanel>

                        <!--  内容  -->
                        <DockPanel Margin="4,0">
                            <!--  左侧配置  -->
                            <Border
                                Margin="4,0"
                                DockPanel.Dock="Left"
                                Style="{StaticResource FormBorder}">
                                <DockPanel>
                                    <TextBlock
                                        Margin="4"
                                        HorizontalAlignment="Center"
                                        DockPanel.Dock="Top"
                                        FontSize="16"
                                        Text="搜索项设置" />
                                    <ScrollViewer>
                                        <StackPanel
                                            Width="260"
                                            DockPanel.Dock="Left"
                                            Orientation="Vertical">
                                            <DockPanel>
                                                <Button
                                                    Width="30"
                                                    Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                                    Margin="5"
                                                    HorizontalAlignment="Left"
                                                    Command="{Binding ExecuteCommand}"
                                                    CommandParameter="GetComPorts"
                                                    DockPanel.Dock="Right"
                                                    Style="{StaticResource MaterialDesignFloatingActionMiniButton}"
                                                    ToolTip="查找串口设备">
                                                    <md:PackIcon
                                                        Width="24"
                                                        Height="24"
                                                        Kind="Search" />
                                                </Button>
                                                <ComboBox
                                                    hc:InfoElement.Placeholder="请选择串口..."
                                                    hc:InfoElement.Title="串口"
                                                    hc:InfoElement.TitleWidth="45"
                                                    DockPanel.Dock="Left"
                                                    IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                    ItemsSource="{Binding ComPorts}"
                                                    SelectedValue="{Binding ComConfig.Port, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                    Style="{StaticResource FormComboBox}" />
                                            </DockPanel>
                                            <ComboBox
                                                hc:InfoElement.Placeholder="请选择数据位..."
                                                hc:InfoElement.Title="数据位"
                                                hc:InfoElement.TitleWidth="45"
                                                IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                ItemsSource="{StaticResource DataBits}"
                                                SelectedItem="{Binding ComConfig.DataBits, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                Style="{StaticResource FormComboBox}" />
                                            <ComboBox
                                                hc:InfoElement.Placeholder="请选择停止位..."
                                                hc:InfoElement.Title="停止位"
                                                hc:InfoElement.TitleWidth="45"
                                                IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                ItemsSource="{Binding Source={StaticResource ValueStopBits}}"
                                                SelectedItem="{Binding ComConfig.StopBits, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                Style="{StaticResource FormComboBox}" />

                                            <!--  波特率  -->
                                            <!--  默认选择9600  -->
                                            <hc:CheckComboBox
                                                MaxWidth="380"
                                                Margin="4"
                                                hc:InfoElement.Necessary="True"
                                                hc:InfoElement.Placeholder="请选择要搜索的波特率"
                                                hc:InfoElement.Title="波特率"
                                                hc:InfoElement.TitlePlacement="Left"
                                                hc:Poptip.Content="波特率可多选, 搜索根据选择先后"
                                                IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                ItemsSource="{Binding Source={StaticResource ValueBaudRate}}"
                                                SelectedIndex="5"
                                                ShowSelectAllButton="True"
                                                Style="{StaticResource FormCheckComboBox}">
                                                <i:Interaction.Triggers>
                                                    <i:EventTrigger EventName="SelectionChanged">
                                                        <i:InvokeCommandAction Command="{Binding BaudRateSelectionChangedCommand}" CommandParameter="{Binding SelectedItems, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=hc:CheckComboBox}}" />
                                                    </i:EventTrigger>
                                                </i:Interaction.Triggers>
                                            </hc:CheckComboBox>

                                            <!--  校验方式  -->
                                            <hc:CheckComboBox
                                                MaxWidth="380"
                                                Margin="4"
                                                hc:InfoElement.Necessary="True"
                                                hc:InfoElement.Placeholder="请选择要搜索的校验方式"
                                                hc:InfoElement.TitlePlacement="Left"
                                                hc:Poptip.Content="校验方式可多选, 搜索根据选择先后"
                                                hc:TitleElement.Title="校验方式"
                                                IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                ItemsSource="{Binding Source={StaticResource ValueParity}}"
                                                SelectedIndex="0"
                                                ShowSelectAllButton="True"
                                                Style="{StaticResource FormCheckComboBox}">
                                                <i:Interaction.Triggers>
                                                    <i:EventTrigger EventName="SelectionChanged">
                                                        <i:InvokeCommandAction Command="{Binding ParitySelectionChangedCommand}" CommandParameter="{Binding SelectedItems, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=hc:CheckComboBox}}" />
                                                    </i:EventTrigger>
                                                </i:Interaction.Triggers>
                                            </hc:CheckComboBox>

                                            <StackPanel
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Top"
                                                Orientation="Horizontal">
                                                <Button
                                                    Margin="20"
                                                    hc:Poptip.Content="搜索"
                                                    Command="{Binding ExecuteCommand}"
                                                    CommandParameter="SearchDevices"
                                                    Content="搜索">
                                                    <Button.Style>
                                                        <Style BasedOn="{StaticResource GreenButton}" TargetType="Button">
                                                            <Setter Property="IsEnabled" Value="True" />
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding SearchDeviceState}" Value="1">
                                                                    <Setter Property="IsEnabled" Value="False" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Button.Style>
                                                </Button>
                                                <Button
                                                    Width="60"
                                                    Margin="20"
                                                    hc:Poptip.Content="停止"
                                                    Command="{Binding ExecuteCommand}"
                                                    CommandParameter="StopSearchDevices"
                                                    Content="停止"
                                                    DockPanel.Dock="Left">
                                                    <Button.Style>
                                                        <Style BasedOn="{StaticResource RedButton}" TargetType="Button">
                                                            <Setter Property="IsEnabled" Value="False" />
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding SearchDeviceState}" Value="1">
                                                                    <Setter Property="IsEnabled" Value="True" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Button.Style>
                                                </Button>
                                            </StackPanel>
                                        </StackPanel>
                                    </ScrollViewer>
                                </DockPanel>
                            </Border>

                            <!--  右侧搜索到的设备  -->
                            <Border
                                Margin="4,0"
                                DockPanel.Dock="Right"
                                Style="{StaticResource FormBorder}">
                                <Grid>
                                    <!--  列表为空时显示  -->
                                    <StackPanel
                                        Grid.Column="1"
                                        Margin="5"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center">
                                        <Image
                                            Width="150"
                                            Height="150"
                                            d:Source="/Images/Ww.png">
                                            <Image.Style>
                                                <Style TargetType="Image">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding SearchDeviceState}" Value="0">
                                                            <Setter Property="Source" Value="/Images/En.png" />
                                                            <Setter Property="Visibility" Value="{Binding ModbusRtuDevices.Count, Converter={cvt:MoreThanZero2Collapsed}, IsAsync=True}" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding SearchDeviceState}" Value="1">
                                                            <Setter Property="Source" Value="/Images/Kun.png" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding SearchDeviceState}" Value="2">
                                                            <Setter Property="Source" Value="/Images/Ww.png" />
                                                            <Setter Property="Visibility" Value="{Binding ModbusRtuDevices.Count, Converter={cvt:MoreThanZero2Collapsed}, IsAsync=True}" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                        </Image>
                                        <TextBlock
                                            Margin="0,10"
                                            HorizontalAlignment="Center"
                                            FontSize="18">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding SearchDeviceState}" Value="0">
                                                            <Setter Property="Text" Value="请配置搜索项..." />
                                                            <Setter Property="Visibility" Value="{Binding ModbusRtuDevices.Count, Converter={cvt:MoreThanZero2Collapsed}, IsAsync=True}" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding SearchDeviceState}" Value="1">
                                                            <Setter Property="Text" Value="搜索中..." />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding SearchDeviceState}" Value="2">
                                                            <Setter Property="Text" Value="未搜索到设备..." />
                                                            <Setter Property="Visibility" Value="{Binding ModbusRtuDevices.Count, Converter={cvt:MoreThanZero2Collapsed}, IsAsync=True}" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </StackPanel>
                                    <DockPanel>
                                        <TextBlock
                                            Margin="5"
                                            HorizontalAlignment="Center"
                                            DockPanel.Dock="Top"
                                            Text="搜索到的设备" />
                                        <hc:ScrollViewer ext:ScrollViewerExtensions.AlwaysScrollToEnd="True" IsInertiaEnabled="True">
                                            <!--  搜索到的设备  -->
                                            <ItemsControl Background="Transparent" ItemsSource="{Binding ModbusRtuDevices, IsAsync=True}">
                                                <ItemsControl.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <StackPanel Orientation="Vertical" />
                                                    </ItemsPanelTemplate>
                                                </ItemsControl.ItemsPanel>

                                                <ItemsControl.ItemTemplate>
                                                    <DataTemplate>
                                                        <Border
                                                            Margin="3"
                                                            Padding="5"
                                                            BorderBrush="{StaticResource Green_BorderBrush}"
                                                            BorderThickness="1"
                                                            CornerRadius="4">
                                                            <Border.Background>
                                                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                                    <LinearGradientBrush.GradientStops>
                                                                        <GradientStop Offset="0.5" Color="#B7DCFF" />
                                                                        <GradientStop Offset="1" Color="#FFA4F6" />
                                                                        <!--<GradientStop Offset="0.33" Color="#FF5EEF" />
                                                                        <GradientStop Offset="0.6" Color="#a167f8" />
                                                                        <GradientStop Offset="1" Color="#456EFF" />-->
                                                                    </LinearGradientBrush.GradientStops>
                                                                </LinearGradientBrush>
                                                            </Border.Background>
                                                            <StackPanel Orientation="Vertical">
                                                                <StackPanel.Style>
                                                                    <Style>
                                                                        <Style.Resources>
                                                                            <Style TargetType="TextBlock">
                                                                                <Setter Property="Foreground" Value="Black" />
                                                                                <Setter Property="Opacity" Value="0.9" />
                                                                            </Style>
                                                                        </Style.Resources>
                                                                    </Style>
                                                                </StackPanel.Style>
                                                                <StackPanel Orientation="Horizontal">
                                                                    <TextBlock Text="地   址：" />
                                                                    <TextBlock Text="{Binding Address}" />
                                                                </StackPanel>

                                                                <StackPanel Orientation="Horizontal">
                                                                    <TextBlock Text="波特率：" />
                                                                    <TextBlock Text="{Binding BaudRate}" />
                                                                </StackPanel>

                                                                <StackPanel Orientation="Horizontal">
                                                                    <TextBlock Text="校   验：" />
                                                                    <TextBlock Text="{Binding Parity}" />
                                                                </StackPanel>

                                                                <StackPanel Orientation="Horizontal">
                                                                    <TextBlock Text="数据位：" />
                                                                    <TextBlock Text="{Binding DataBits}" />
                                                                </StackPanel>

                                                                <StackPanel Orientation="Horizontal">
                                                                    <TextBlock Text="停止位：" />
                                                                    <TextBlock Text="{Binding StopBits}" />
                                                                </StackPanel>

                                                                <StackPanel Orientation="Horizontal">
                                                                    <TextBlock Text="消息：" />
                                                                    <TextBlock
                                                                        Width="130"
                                                                        Text="{Binding ReceiveMessage}"
                                                                        TextWrapping="Wrap" />
                                                                </StackPanel>
                                                            </StackPanel>
                                                        </Border>
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                            </ItemsControl>
                                        </hc:ScrollViewer>
                                    </DockPanel>
                                </Grid>
                            </Border>

                            <DockPanel>
                                <!--  搜索中  -->
                                <Border
                                    Height="30"
                                    Margin="4,4,4,0"
                                    BorderBrush="Gray"
                                    BorderThickness="1"
                                    CornerRadius="4"
                                    DockPanel.Dock="Bottom">
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding SearchDeviceState}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding SearchDeviceState}" Value="1">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding SearchDeviceState}" Value="2">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock
                                            Margin="5,0"
                                            VerticalAlignment="Center"
                                            Foreground="{StaticResource Green_Foreground}"
                                            Text="搜索中...  " />
                                        <TextBlock VerticalAlignment="Center" Text="波特率:" />
                                        <TextBlock
                                            Margin="5,0,10,0"
                                            VerticalAlignment="Center"
                                            Foreground="{StaticResource Green_Foreground}"
                                            Text="{Binding CurrentDevice.BaudRate}" />
                                        <TextBlock VerticalAlignment="Center" Text="校验位:" />
                                        <TextBlock
                                            Margin="5,0,10,0"
                                            VerticalAlignment="Center"
                                            Foreground="{StaticResource Green_Foreground}"
                                            Text="{Binding CurrentDevice.Parity}" />
                                        <TextBlock VerticalAlignment="Center" Text="数据位: " />
                                        <TextBlock
                                            Margin="5,0,10,0"
                                            VerticalAlignment="Center"
                                            Foreground="{StaticResource Green_Foreground}"
                                            Text="{Binding CurrentDevice.DataBits}" />
                                        <TextBlock VerticalAlignment="Center" Text="停止位: " />
                                        <TextBlock
                                            Margin="5,0,10,0"
                                            VerticalAlignment="Center"
                                            Foreground="{StaticResource Green_Foreground}"
                                            Text="{Binding CurrentDevice.StopBits}" />
                                        <TextBlock VerticalAlignment="Center" Text=" 地址:" />
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            d:Text="1"
                                            Foreground="{StaticResource Green_Foreground}"
                                            Text="{Binding CurrentDevice.Address}" />
                                    </StackPanel>
                                </Border>

                                <!--  页面消息  -->
                                <ContentControl
                                    Margin="4,0"
                                    Padding="4"
                                    Style="{StaticResource Effect2Control}">
                                    <hc:ScrollViewer ext:ScrollViewerExtensions.AlwaysScrollToEnd="True" IsInertiaEnabled="True">
                                        <!--  页面消息  -->
                                        <ItemsControl Background="Transparent" ItemsSource="{Binding Messages, IsAsync=True}">
                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <StackPanel />
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>

                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <Border Style="{StaticResource MessageBorder}">
                                                        <WrapPanel Orientation="Horizontal">
                                                            <TextBlock
                                                                Margin="3"
                                                                VerticalAlignment="Center"
                                                                Style="{StaticResource MessageTextBlock}"
                                                                Text="{Binding Time, StringFormat={}{0:yyyy-MM-dd HH:mm:ss}}" />
                                                            <TextBlock
                                                                Margin="5,0"
                                                                VerticalAlignment="Center"
                                                                Style="{StaticResource MessageTextBlock}"
                                                                Text="{Binding Type}" />
                                                            <TextBox
                                                                VerticalAlignment="Center"
                                                                FontSize="12"
                                                                FontWeight="Bold"
                                                                IsReadOnly="True"
                                                                Style="{StaticResource MessageTextBox}"
                                                                Text="{Binding Content}"
                                                                TextWrapping="Wrap" />
                                                        </WrapPanel>
                                                    </Border>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>
                                    </hc:ScrollViewer>
                                </ContentControl>
                            </DockPanel>
                        </DockPanel>
                    </DockPanel>
                </md:TransitionerSlide>

                <!--  Index 2  -->
                <md:TransitionerSlide>
                    <!--  DrawerHost3  -->
                    <md:DrawerHost IsLeftDrawerOpen="{Binding IsDrawersOpen3.IsLeftDrawerOpen}" IsRightDrawerOpen="{Binding IsDrawersOpen3.IsRightDrawerOpen}">
                        <!--  左侧抽屉  -->
                        <md:DrawerHost.LeftDrawerContent>
                            <ScrollViewer>
                                <DockPanel MinWidth="300" Background="#f5f5f5">
                                    <Border
                                        Margin="4"
                                        DockPanel.Dock="Right"
                                        Effect="{StaticResource EffectShadow2}"
                                        Style="{StaticResource BorderRegion}">
                                        <DockPanel>
                                            <StackPanel
                                                HorizontalAlignment="Center"
                                                DockPanel.Dock="Top"
                                                Orientation="Horizontal">
                                                <TextBlock
                                                    Margin="5"
                                                    HorizontalAlignment="Center"
                                                    FontSize="20"
                                                    Text="快速导入配置" />
                                                <!--  更新配置列表  -->
                                                <Button
                                                    Width="30"
                                                    Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                                    Margin="4"
                                                    hc:Poptip.Content="更新配置列表"
                                                    Command="{Binding ExecuteCommand}"
                                                    CommandParameter="RefreshQuickImportList"
                                                    Content="{md:PackIcon Kind=Refresh}"
                                                    Cursor="Hand"
                                                    DockPanel.Dock="Right"
                                                    Style="{StaticResource Blue_CircleButton}" />
                                            </StackPanel>
                                            <ItemsControl
                                                Background="Transparent"
                                                DockPanel.Dock="Top"
                                                ItemsSource="{Binding ConfigFiles, IsAsync=True}">
                                                <ItemsControl.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <StackPanel HorizontalAlignment="Center" />
                                                    </ItemsPanelTemplate>
                                                </ItemsControl.ItemsPanel>
                                                <ItemsControl.ItemTemplate>
                                                    <DataTemplate>
                                                        <Border Margin="4" CornerRadius="4">
                                                            <WrapPanel Orientation="Horizontal">
                                                                <Button
                                                                    Command="{Binding DataContext.ImportConfigCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                                                    CommandParameter="{Binding}"
                                                                    Content="{Binding Name}" />
                                                            </WrapPanel>
                                                        </Border>
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                            </ItemsControl>
                                        </DockPanel>
                                    </Border>
                                    <Border
                                        Margin="4"
                                        DockPanel.Dock="Top"
                                        Effect="{StaticResource EffectShadow2}"
                                        Style="{StaticResource BorderRegion}">
                                        <StackPanel Orientation="Vertical">
                                            <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                                                <TextBlock
                                                    Margin="5"
                                                    HorizontalAlignment="Center"
                                                    FontSize="24"
                                                    Text="数据监控设置" />
                                                <!--  导出配置文件  -->
                                                <Button
                                                    Width="30"
                                                    Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                                    Margin="4"
                                                    hc:Poptip.Content="导出配置文件"
                                                    Command="{Binding ExecuteCommand}"
                                                    CommandParameter="ExportConfig"
                                                    Content="{md:PackIcon Kind=Upload}"
                                                    Cursor="Hand"
                                                    DockPanel.Dock="Right"
                                                    Style="{StaticResource Blue_CircleButton}" />
                                                <!--  导入配置文件  -->
                                                <Button
                                                    Width="30"
                                                    Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                                    Margin="4"
                                                    hc:Poptip.Content="导入配置文件"
                                                    Command="{Binding ExecuteCommand}"
                                                    CommandParameter="ImportConfig"
                                                    Content="{md:PackIcon Kind=Download}"
                                                    Cursor="Hand"
                                                    DockPanel.Dock="Right"
                                                    IsEnabled="{Binding DataMonitorConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                    Style="{StaticResource Blue_CircleButton}" />
                                            </StackPanel>

                                            <TextBox
                                                hc:TitleElement.Title="从站ID:"
                                                IsEnabled="{Binding DataMonitorConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                Style="{StaticResource FormTextBox}"
                                                Text="{Binding DataMonitorConfig.SlaveId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                            <TextBox
                                                hc:TitleElement.Title="功能码:"
                                                IsEnabled="{Binding DataMonitorConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                IsReadOnly="True"
                                                Style="{StaticResource FormTextBox}"
                                                Text="{Binding DataMonitorConfig.Function, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:00}}" />
                                            <TextBox
                                                hc:TitleElement.Title="起始地址:"
                                                IsEnabled="{Binding DataMonitorConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                Style="{StaticResource FormTextBox}"
                                                Text="{Binding DataMonitorConfig.StartAddr, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                            <TextBox
                                                hc:TitleElement.Title="读取数量(word):"
                                                hc:TitleElement.TitleWidth="100"
                                                IsEnabled="{Binding DataMonitorConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                Style="{StaticResource FormTextBox}"
                                                Text="{Binding DataMonitorConfig.Quantity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                            <TextBox
                                                hc:TitleElement.Title="周期(ms):"
                                                IsEnabled="{Binding DataMonitorConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                Style="{StaticResource FormTextBox}"
                                                Text="{Binding DataMonitorConfig.Period}" />
                                            <ComboBox
                                                MinWidth="135"
                                                hc:InfoElement.Placeholder="请选择校验位..."
                                                hc:Poptip.Content="PC为小端, PLC为大端, PC读取使用DCBA, PLC读取需要设置ABCD"
                                                hc:TitleElement.Title="字节序"
                                                ItemsSource="{Binding Source={StaticResource ValueModbusByteOrder}}"
                                                SelectedItem="{Binding DataMonitorConfig.ByteOrder}"
                                                Style="{StaticResource FormComboBox}" />
                                            <TextBox
                                                hc:TitleElement.Title="数据帧:"
                                                IsEnabled="{Binding DataMonitorConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                IsReadOnly="True"
                                                Style="{StaticResource FormTextBox}"
                                                Text="{Binding DataMonitorConfig.DataFrame, Mode=OneWay}" />

                                            <StackPanel
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Top"
                                                Orientation="Horizontal">
                                                <Button
                                                    Margin="20"
                                                    Command="{Binding ExecuteCommand}"
                                                    CommandParameter="OpenAutoRead"
                                                    Content="打开"
                                                    IsEnabled="{Binding DataMonitorConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                    Style="{StaticResource GreenButton}" />

                                                <Button
                                                    Width="60"
                                                    Margin="20"
                                                    Command="{Binding ExecuteCommand}"
                                                    CommandParameter="CloseAutoRead"
                                                    Content="关闭"
                                                    DockPanel.Dock="Left"
                                                    IsEnabled="{Binding DataMonitorConfig.IsOpened}"
                                                    Style="{StaticResource RedButton}" />
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>
                                    <Border
                                        Margin="4"
                                        DockPanel.Dock="Top"
                                        Effect="{StaticResource EffectShadow2}"
                                        Style="{StaticResource BorderRegion}">
                                        <StackPanel Orientation="Vertical">
                                            <TextBlock
                                                Margin="5"
                                                HorizontalAlignment="Center"
                                                FontSize="24"
                                                Text="串口设置" />
                                            <StackPanel Orientation="Horizontal">
                                                <ComboBox
                                                    Width="230"
                                                    hc:InfoElement.Placeholder="请选择串口..."
                                                    hc:InfoElement.Title="串口"
                                                    IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                    ItemsSource="{Binding ComPorts}"
                                                    SelectedValue="{Binding ComConfig.Port, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                    Style="{StaticResource FormComboBox}" />
                                                <Button
                                                    Width="30"
                                                    Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                                    Margin="5"
                                                    HorizontalAlignment="Left"
                                                    hc:Poptip.Content="查找串口设备"
                                                    Command="{Binding ExecuteCommand}"
                                                    CommandParameter="GetComPorts"
                                                    Content="{md:PackIcon Kind=Search}"
                                                    DockPanel.Dock="Left"
                                                    Style="{StaticResource Blue_CircleButton}" />
                                            </StackPanel>
                                            <ComboBox
                                                hc:InfoElement.Placeholder="请选择波特率..."
                                                hc:InfoElement.Title="波特率"
                                                IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                ItemsSource="{Binding Source={cvt:EnumBindingSource {x:Type model:BaudRate}}}"
                                                SelectedItem="{Binding ComConfig.BaudRate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                Style="{StaticResource FormComboBox}" />

                                            <ComboBox
                                                hc:InfoElement.Placeholder="请选择校验位..."
                                                hc:InfoElement.Title="校验位"
                                                IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                ItemsSource="{Binding Source={StaticResource ValueParity}}"
                                                SelectedValue="{Binding ComConfig.Parity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                Style="{StaticResource FormComboBox}" />

                                            <ComboBox
                                                hc:InfoElement.Placeholder="请选择数据位..."
                                                hc:InfoElement.Title="数据位"
                                                IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                ItemsSource="{StaticResource DataBits}"
                                                SelectedItem="{Binding ComConfig.DataBits, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                Style="{StaticResource FormComboBox}" />
                                            <ComboBox
                                                hc:InfoElement.Placeholder="请选择停止位..."
                                                hc:InfoElement.Title="停止位"
                                                IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                ItemsSource="{Binding Source={StaticResource ValueStopBits}}"
                                                SelectedItem="{Binding ComConfig.StopBits, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                Style="{StaticResource FormComboBox}" />

                                            <StackPanel
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Top"
                                                Orientation="Horizontal">
                                                <Button
                                                    Margin="20"
                                                    hc:Poptip.Content="打开串口"
                                                    Command="{Binding ExecuteCommand}"
                                                    CommandParameter="OpenCom"
                                                    Content="打开"
                                                    IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                    Style="{StaticResource GreenButton}" />

                                                <Button
                                                    Width="60"
                                                    Margin="20"
                                                    hc:Poptip.Content="关闭串口"
                                                    Command="{Binding ExecuteCommand}"
                                                    CommandParameter="CloseCom"
                                                    Content="关闭"
                                                    DockPanel.Dock="Left"
                                                    IsEnabled="{Binding ComConfig.IsOpened}"
                                                    Style="{StaticResource RedButton}" />
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>
                                </DockPanel>
                            </ScrollViewer>
                        </md:DrawerHost.LeftDrawerContent>
                        <!--  右侧抽屉  -->
                        <md:DrawerHost.RightDrawerContent>
                            <!--  页面消息  -->
                            <ContentControl
                                Width="700"
                                Margin="5,5"
                                DockPanel.Dock="Left"
                                Style="{StaticResource Effect2Control}">
                                <hc:ScrollViewer ext:ScrollViewerExtensions.AlwaysScrollToEnd="True" IsInertiaEnabled="True">
                                    <ItemsControl
                                        Margin="4"
                                        Background="Transparent"
                                        ItemsSource="{Binding Messages, IsAsync=True}">
                                        <ItemsControl.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <StackPanel />
                                            </ItemsPanelTemplate>
                                        </ItemsControl.ItemsPanel>
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Border Style="{StaticResource MessageBorder}">
                                                    <WrapPanel Orientation="Horizontal">
                                                        <TextBlock
                                                            Margin="3"
                                                            VerticalAlignment="Center"
                                                            Style="{StaticResource MessageTextBlock}"
                                                            Text="{Binding Time, StringFormat={}{0:yyyy-MM-dd HH:mm:ss}}" />
                                                        <TextBlock
                                                            Margin="5,0"
                                                            VerticalAlignment="Center"
                                                            Style="{StaticResource MessageTextBlock}"
                                                            Text="{Binding Type}" />
                                                        <TextBox
                                                            VerticalAlignment="Center"
                                                            FontSize="12"
                                                            FontWeight="Bold"
                                                            IsReadOnly="True"
                                                            Style="{StaticResource MessageTextBox}"
                                                            Text="{Binding Content}"
                                                            TextWrapping="Wrap" />
                                                    </WrapPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </hc:ScrollViewer>
                            </ContentControl>
                        </md:DrawerHost.RightDrawerContent>
                        <!--  主体内容  -->
                        <DockPanel>
                            <!--<DockPanel.Background>
                                <LinearGradientBrush>
                            -->
                            <!--<GradientStop Offset="0.5" Color="#DDE4FF" />
                                    <GradientStop Offset="1" Color="#8DA2EE" />-->
                            <!--

                                    <GradientStop Offset="0.5" Color="#FFADF7" />
                                    <GradientStop Offset="1" Color="#B1FF96" />
                                </LinearGradientBrush>
                            </DockPanel.Background>-->
                            <!--  头部区域  -->
                            <Grid DockPanel.Dock="Top">
                                <TextBlock Style="{StaticResource TitleTextBlock}" Text="Modbus-Rtu 数据监控" />
                                <DockPanel LastChildFill="False">
                                    <!--  ModbusRtu 功能选择按钮  -->
                                    <!--<Button
                                            Width="30"
                                            Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                            Margin="5"
                                            HorizontalAlignment="Left"
                                            hc:Poptip.Content="功能选择"
                                            Command="{Binding ExecuteCommand}"
                                            CommandParameter="ShowModbusRtuFunSelect"
                                            Content="{md:PackIcon Kind=Apps}"
                                            Cursor="Hand"
                                            Style="{StaticResource Blue_CircleButton}" />-->

                                    <!--  打开数据监控  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="配置数据监控"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="OpenLeftDrawer3"
                                        Content="{md:PackIcon Kind=Cog}"
                                        Cursor="Hand"
                                        Style="{StaticResource Blue_CircleButton}" />

                                    <!--  打开数据监控  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="打开数据监控"
                                        Background="{StaticResource Green_Background}"
                                        BorderBrush="{StaticResource Green_BorderBrush}"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="OpenAutoRead"
                                        Content="{md:PackIcon Kind=Play}"
                                        Cursor="Hand"
                                        Foreground="{StaticResource Green_Foreground}"
                                        IsEnabled="{Binding DataMonitorConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                        Style="{StaticResource MaterialDesignFloatingActionMiniButton}" />

                                    <!--  关闭数据监控  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="关闭数据监控"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="CloseAutoRead"
                                        Content="{md:PackIcon Kind=Stop}"
                                        IsEnabled="{Binding DataMonitorConfig.IsOpened}"
                                        Style="{StaticResource Red_CircleButton}" />

                                    <!--  暂停界面更新  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="Pause"
                                        Cursor="Hand">
                                        <md:PackIcon Width="24" Height="24">
                                            <md:PackIcon.Style>
                                                <Style TargetType="md:PackIcon">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding IsPause}" Value="true">
                                                            <Setter Property="Kind" Value="PlayPause" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding IsPause}" Value="false">
                                                            <Setter Property="Kind" Value="Pause" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </md:PackIcon.Style>
                                        </md:PackIcon>
                                        <Button.Style>
                                            <Style BasedOn="{StaticResource MaterialDesignFloatingActionMiniButton}" TargetType="Button">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding IsPause}" Value="true">
                                                        <Setter Property="Foreground" Value="{StaticResource Green_Foreground}" />
                                                        <Setter Property="Background" Value="{StaticResource Green_Background}" />
                                                        <Setter Property="BorderBrush" Value="{StaticResource Green_BorderBrush}" />
                                                        <Setter Property="hc:Poptip.Content" Value="启用界面更新" />
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding IsPause}" Value="false">
                                                        <Setter Property="Foreground" Value="{StaticResource Yellow_Foreground}" />
                                                        <Setter Property="Background" Value="{StaticResource Yellow_Background}" />
                                                        <Setter Property="BorderBrush" Value="{StaticResource Yellow_BorderBrush}" />
                                                        <Setter Property="hc:Poptip.Content" Value="暂停界面更新" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Button.Style>
                                    </Button>

                                    <!--  清空消息按钮  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="清空消息"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="Clear"
                                        Content="{md:PackIcon Kind=Delete}"
                                        Style="{StaticResource Red_CircleButton}" />
                                    <!--  过滤器  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="过滤未设置的数据"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="OperateFilter"
                                        Cursor="Hand">
                                        <md:PackIcon Width="24" Height="24">
                                            <md:PackIcon.Style>
                                                <Style TargetType="md:PackIcon">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding DataMonitorConfig.IsFilter}" Value="false">
                                                            <Setter Property="Kind" Value="Filter" />
                                                            <Setter Property="hc:Poptip.Content" Value="过滤未设置名称的数据" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding DataMonitorConfig.IsFilter}" Value="true">
                                                            <Setter Property="Kind" Value="FilterRemove" />
                                                            <Setter Property="hc:Poptip.Content" Value="关闭过滤" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </md:PackIcon.Style>
                                        </md:PackIcon>
                                        <Button.Style>
                                            <Style BasedOn="{StaticResource MaterialDesignFloatingActionMiniButton}" TargetType="Button">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding DataMonitorConfig.IsFilter}" Value="true">
                                                        <Setter Property="Foreground" Value="{StaticResource Yellow_Foreground}" />
                                                        <Setter Property="Background" Value="{StaticResource Yellow_Background}" />
                                                        <Setter Property="BorderBrush" Value="{StaticResource Yellow_BorderBrush}" />
                                                        <Setter Property="hc:Poptip.Content" Value="开启数据过滤器" />
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding DataMonitorConfig.IsFilter}" Value="false">
                                                        <Setter Property="Foreground" Value="{StaticResource Green_Foreground}" />
                                                        <Setter Property="Background" Value="{StaticResource Green_Background}" />
                                                        <Setter Property="BorderBrush" Value="{StaticResource Green_BorderBrush}" />
                                                        <Setter Property="hc:Poptip.Content" Value="关闭数据过滤器" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Button.Style>
                                    </Button>

                                    <!--  测试按钮  -->
                                    <!--<Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="关闭数据监控"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="Test"
                                        Content="{md:PackIcon Kind=TestTube}"
                                        Style="{StaticResource Red_CircleButton}" />-->

                                    <!--  查看消息  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Center"
                                        hc:Poptip.Content="查看消息"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="ViewMessage"
                                        Content="{md:PackIcon Kind=Eye}"
                                        DockPanel.Dock="Right"
                                        Style="{StaticResource Blue_CircleButton}" />
                                </DockPanel>
                            </Grid>

                            <!--  底部区域  -->
                            <StackPanel
                                Height="30"
                                DockPanel.Dock="Bottom"
                                Orientation="Horizontal">
                                <Border
                                    Width="20"
                                    Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                    Margin="10,5"
                                    CornerRadius="10">
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ComConfig.IsOpened}" Value="True">
                                                    <Setter Property="Background" Value="LawnGreen" />
                                                    <Setter Property="hc:Poptip.Content" Value="串口已打开" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding ComConfig.IsOpened}" Value="False">
                                                    <Setter Property="Background" Value="Red" />
                                                    <Setter Property="hc:Poptip.Content" Value="串口已关闭" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                </Border>
                                <TextBlock
                                    Margin="0"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{Binding ComConfig.Port.Key}" />
                                <TextBlock VerticalAlignment="Center" Text=" : " />
                                <TextBlock VerticalAlignment="Center" Text="{Binding ComConfig.Port.Value}" />
                                <TextBlock VerticalAlignment="Center" Text="  " />
                                <TextBlock VerticalAlignment="Center" Text="{Binding ComConfig.Parity}" />
                                <TextBlock VerticalAlignment="Center" Text="  " />
                                <TextBlock VerticalAlignment="Center" Text="{Binding ComConfig.DataBits}" />
                                <TextBlock
                                    Margin="5,0"
                                    VerticalAlignment="Center"
                                    Text="{Binding ComConfig.StopBits}" />

                                <Border
                                    Margin="30,3"
                                    BorderBrush="LightBlue"
                                    BorderThickness="1" />
                                <TextBlock VerticalAlignment="Center" Text="Receive: " />
                                <TextBlock VerticalAlignment="Center" Text="{Binding ReceiveBytesCount}" />
                                <TextBlock VerticalAlignment="Center" Text=" Bytes" />
                                <Border
                                    Margin="30,3"
                                    BorderBrush="LightBlue"
                                    BorderThickness="1" />
                                <TextBlock VerticalAlignment="Center" Text="Send: " />
                                <TextBlock VerticalAlignment="Center" Text="{Binding SendBytesCount}" />
                                <TextBlock VerticalAlignment="Center" Text=" Bytes" />
                            </StackPanel>
                            <!--  主体内容  -->
                            <DockPanel>
                                <!--  数据  -->
                                <Border
                                    Margin="4,0"
                                    Padding="0"
                                    DockPanel.Dock="Top"
                                    Style="{StaticResource FormBorder}">
                                    <DataGrid
                                        MinWidth="100"
                                        Margin="0"
                                        hc:DataGridAttach.ShowRowNumber="True"
                                        AutoGenerateColumns="False"
                                        Background="Transparent"
                                        BorderThickness="0"
                                        CanUserSortColumns="False"
                                        FrozenColumnCount="4"
                                        ItemsSource="{Binding ModbusRtuDataDataView, IsAsync=True}"
                                        RowHeaderWidth="60"
                                        Style="{StaticResource NumDataGrid}">
                                        <!--<DataGrid.RowHeaderTemplate>
                                            <DataTemplate>
                                                <Grid Width="40">
                                                    <CheckBox HorizontalAlignment="Center" IsChecked="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=DataGridRow}}" />
                                                </Grid>
                                            </DataTemplate>
                                        </DataGrid.RowHeaderTemplate>-->
                                        <DataGrid.Columns>
                                            <DataGridTemplateColumn Header="名称">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox MinWidth="120" Text="{Binding Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="值">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Border
                                                            MinWidth="60"
                                                            Padding="8,4"
                                                            BorderThickness="1"
                                                            CornerRadius="4">
                                                            <Border.Style>
                                                                <Style TargetType="Border">
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{Binding Name, Converter={cvt:StringIsNullOrWhiteSpace2Visibility}}" Value="false">
                                                                            <Setter Property="Background" Value="{StaticResource Green_Background}" />
                                                                            <Setter Property="BorderBrush" Value="{StaticResource Green_BorderBrush}" />
                                                                        </DataTrigger>
                                                                        <DataTrigger Binding="{Binding Name, Converter={cvt:StringIsNullOrWhiteSpace2Visibility}}" Value="true">
                                                                            <Setter Property="Background" Value="{StaticResource Purple_Background}" />
                                                                            <Setter Property="BorderBrush" Value="{StaticResource Purple_BorderBrush}" />
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </Border.Style>
                                                            <TextBlock FontSize="13" Text="{Binding Value}">
                                                                <TextBlock.Style>
                                                                    <Style TargetType="TextBlock">
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{Binding Name, Converter={cvt:StringIsNullOrWhiteSpace2Visibility}}" Value="false">
                                                                                <Setter Property="Foreground" Value="{StaticResource Green_Foreground}" />
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding Name, Converter={cvt:StringIsNullOrWhiteSpace2Visibility}}" Value="true">
                                                                                <Setter Property="Foreground" Value="{StaticResource Purple_Foreground}" />
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </TextBlock.Style>
                                                            </TextBlock>
                                                        </Border>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>


                                            <DataGridTemplateColumn Header="单位">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            MinWidth="40"
                                                            HorizontalContentAlignment="Center"
                                                            Text="{Binding Unit, Mode=TwoWay, UpdateSourceTrigger=LostFocus}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="倍率">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            MinWidth="40"
                                                            HorizontalContentAlignment="Center"
                                                            Text="{Binding Rate, Mode=TwoWay, UpdateSourceTrigger=LostFocus}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>


                                            <DataGridTemplateColumn Header="数据类型">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <ComboBox
                                                            MinWidth="135"
                                                            Margin="0"
                                                            ItemsSource="{Binding Source={StaticResource ValueDataType}}"
                                                            SelectedValue="{Binding Type, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTextColumn
                                                Binding="{Binding Addr, StringFormat={}{0:00}}"
                                                Header="地址Dec"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Binding="{Binding Addr, StringFormat=0x{0:X2}}"
                                                Header="地址Hex"
                                                IsReadOnly="True" />

                                            <DataGridTextColumn
                                                Binding="{Binding DataHex}"
                                                Header="原始值Hex(高低)"
                                                IsReadOnly="True" />

                                            <DataGridTextColumn
                                                Binding="{Binding UpdateTime, StringFormat={}{0:HH:mm:ss}}"
                                                Header="更新时间"
                                                IsReadOnly="True" />

                                            <DataGridTemplateColumn Header="写入值">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox HorizontalContentAlignment="Center" Text="{Binding WriteValue, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="操作">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Button
                                                            Command="{Binding DataContext.ModburRtuDataWriteCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                                            CommandParameter="{Binding}"
                                                            Content="写入"
                                                            Style="{StaticResource YellowButton}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </Border>
                            </DockPanel>
                        </DockPanel>
                    </md:DrawerHost>
                </md:TransitionerSlide>

                <!--  Index 3  -->
                <md:TransitionerSlide>
                    <!--  DrawerHost  -->
                    <md:DrawerHost IsLeftDrawerOpen="{Binding ModbusRtuReadDrawerOpen.IsLeftDrawerOpen}" IsRightDrawerOpen="{Binding ModbusRtuReadDrawerOpen.IsRightDrawerOpen}">
                        <!--  左侧抽屉  -->
                        <md:DrawerHost.LeftDrawerContent>
                            <DockPanel Background="AliceBlue">
                                <Border DockPanel.Dock="Top" Style="{StaticResource FormBorder}">
                                    <StackPanel Orientation="Vertical">
                                        <TextBlock
                                            Margin="5"
                                            HorizontalAlignment="Center"
                                            FontSize="24"
                                            Text="串口设置" />
                                        <StackPanel Orientation="Horizontal">
                                            <ComboBox
                                                Width="230"
                                                hc:InfoElement.Placeholder="请选择串口..."
                                                hc:InfoElement.Title="串口"
                                                IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                ItemsSource="{Binding ComPorts}"
                                                SelectedValue="{Binding ComConfig.Port, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                Style="{StaticResource FormComboBox}" />
                                            <Button
                                                Width="30"
                                                Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                                Margin="5"
                                                HorizontalAlignment="Left"
                                                hc:Poptip.Content="查找串口设备"
                                                Command="{Binding ExecuteCommand}"
                                                CommandParameter="GetComPorts"
                                                Content="{md:PackIcon Kind=Search}"
                                                DockPanel.Dock="Left"
                                                Style="{StaticResource Blue_CircleButton}" />
                                        </StackPanel>
                                        <ComboBox
                                            hc:InfoElement.Placeholder="请选择波特率..."
                                            hc:InfoElement.Title="波特率"
                                            IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                            ItemsSource="{Binding Source={cvt:EnumBindingSource {x:Type model:BaudRate}}}"
                                            SelectedItem="{Binding ComConfig.BaudRate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                            Style="{StaticResource FormComboBox}" />

                                        <ComboBox
                                            hc:InfoElement.Placeholder="请选择校验位..."
                                            hc:InfoElement.Title="校验位"
                                            IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                            ItemsSource="{Binding Source={StaticResource ValueParity}}"
                                            SelectedValue="{Binding ComConfig.Parity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                            Style="{StaticResource FormComboBox}" />

                                        <ComboBox
                                            hc:InfoElement.Placeholder="请选择数据位..."
                                            hc:InfoElement.Title="数据位"
                                            IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                            ItemsSource="{StaticResource DataBits}"
                                            SelectedItem="{Binding ComConfig.DataBits, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                            Style="{StaticResource FormComboBox}" />
                                        <ComboBox
                                            hc:InfoElement.Placeholder="请选择停止位..."
                                            hc:InfoElement.Title="停止位"
                                            IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                            ItemsSource="{Binding Source={StaticResource ValueStopBits}}"
                                            SelectedItem="{Binding ComConfig.StopBits, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                            Style="{StaticResource FormComboBox}" />

                                        <StackPanel
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Top"
                                            Orientation="Horizontal">
                                            <Button
                                                Margin="20"
                                                hc:Poptip.Content="打开串口"
                                                Command="{Binding ExecuteCommand}"
                                                CommandParameter="OpenCom"
                                                Content="打开"
                                                IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                                Style="{StaticResource GreenButton}" />

                                            <Button
                                                Width="60"
                                                Margin="20"
                                                hc:Poptip.Content="关闭串口"
                                                Command="{Binding ExecuteCommand}"
                                                CommandParameter="CloseCom"
                                                Content="关闭"
                                                DockPanel.Dock="Left"
                                                IsEnabled="{Binding ComConfig.IsOpened}"
                                                Style="{StaticResource RedButton}" />
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                            </DockPanel>
                        </md:DrawerHost.LeftDrawerContent>
                        <DockPanel>
                            <!--  主体内容  -->
                            <!--  头部区域  -->
                            <Grid DockPanel.Dock="Top">
                                <TextBlock Style="{StaticResource TitleTextBlock}" Text="Modbus-Rtu 自动应答" />
                                <DockPanel LastChildFill="False">
                                    <!--  ModbusRtu 功能选择  -->
                                    <!--<Button
                                            Width="30"
                                            Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                            Margin="5"
                                            HorizontalAlignment="Left"
                                            hc:Poptip.Content="功能选择"
                                            Command="{Binding ExecuteCommand}"
                                            CommandParameter="ShowModbusRtuFunSelect"
                                            Content="{md:PackIcon Kind=Apps}"
                                            Cursor="Hand"
                                            Style="{StaticResource Blue_CircleButton}" />-->

                                    <!--  配置Com按钮  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="配置串口"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="ModbusRtuReadDrawerOpenLeft"
                                        Content="{md:PackIcon Kind=Cog}"
                                        Cursor="Hand"
                                        Style="{StaticResource Blue_CircleButton}" />

                                    <!--  打开串口  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="打开串口"
                                        Background="{StaticResource Green_Background}"
                                        BorderBrush="{StaticResource Green_BorderBrush}"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="OpenComAndAutoResponse"
                                        Content="{md:PackIcon Kind=Play}"
                                        Cursor="Hand"
                                        Foreground="{StaticResource Green_Foreground}"
                                        IsEnabled="{Binding ComConfig.IsOpened, Converter={wucvt:ReverseBool}}"
                                        Style="{StaticResource MaterialDesignFloatingActionMiniButton}" />

                                    <!--  关闭串口  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="关闭串口"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="CloseComAndAutoResponse"
                                        Content="{md:PackIcon Kind=Stop}"
                                        Cursor="Hand"
                                        IsEnabled="{Binding ComConfig.IsOpened}"
                                        Style="{StaticResource Red_CircleButton}" />


                                    <!--  清空消息按钮  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="清空消息"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="Clear"
                                        Content="{md:PackIcon Kind=Delete}"
                                        DockPanel.Dock="Right"
                                        Style="{StaticResource Red_CircleButton}" />

                                    <!--  暂停界面更新  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="Pause"
                                        Cursor="Hand"
                                        DockPanel.Dock="Right">
                                        <md:PackIcon Width="24" Height="24">
                                            <md:PackIcon.Style>
                                                <Style TargetType="md:PackIcon">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding IsPause}" Value="true">
                                                            <Setter Property="Kind" Value="PlayPause" />

                                                        </DataTrigger>

                                                        <DataTrigger Binding="{Binding IsPause}" Value="false">
                                                            <Setter Property="Kind" Value="Pause" />

                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </md:PackIcon.Style>
                                        </md:PackIcon>
                                        <Button.Style>
                                            <Style BasedOn="{StaticResource MaterialDesignFloatingActionMiniButton}" TargetType="Button">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding IsPause}" Value="true">
                                                        <Setter Property="Foreground" Value="{StaticResource Green_Foreground}" />
                                                        <Setter Property="Background" Value="{StaticResource Green_Background}" />
                                                        <Setter Property="BorderBrush" Value="{StaticResource Green_BorderBrush}" />
                                                        <Setter Property="hc:Poptip.Content" Value="启用界面更新" />
                                                    </DataTrigger>

                                                    <DataTrigger Binding="{Binding IsPause}" Value="false">
                                                        <Setter Property="Foreground" Value="{StaticResource Yellow_Foreground}" />
                                                        <Setter Property="Background" Value="{StaticResource Yellow_Background}" />
                                                        <Setter Property="BorderBrush" Value="{StaticResource Yellow_BorderBrush}" />
                                                        <Setter Property="hc:Poptip.Content" Value="暂停界面更新" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Button.Style>
                                    </Button>



                                    <!--  打开自动应答  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="打开自动应答"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="AutoResponseOn"
                                        Content="{md:PackIcon Kind=Robot}"
                                        Cursor="Hand"
                                        IsEnabled="{Binding IsAutoResponse, Converter={wucvt:ReverseBool}}"
                                        Style="{StaticResource Green_CircleButton}" />

                                    <!--  关闭自动应答  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="关闭自动应答"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="AutoResponseOff"
                                        Content="{md:PackIcon Kind=RobotOff}"
                                        Cursor="Hand"
                                        IsEnabled="{Binding IsAutoResponse}"
                                        Style="{StaticResource Red_CircleButton}" />

                                    <Border Margin="20" DockPanel.Dock="Left" />

                                    <!--  导出配置文件  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="4"
                                        hc:Poptip.Content="导出配置文件"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="ExportAutoResponseConfig"
                                        Content="{md:PackIcon Kind=Upload}"
                                        Cursor="Hand"
                                        DockPanel.Dock="Left"
                                        Style="{StaticResource Blue_CircleButton}" />
                                    <!--  导入配置文件  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="4"
                                        hc:Poptip.Content="导入配置文件"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="ImportAutoResponseConfig"
                                        Content="{md:PackIcon Kind=Download}"
                                        Cursor="Hand"
                                        DockPanel.Dock="Left"
                                        Style="{StaticResource Blue_CircleButton}" />


                                    <!--  添加行  -->
                                    <Button
                                        Width="30"
                                        Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        hc:Poptip.Content="添加行"
                                        Command="{Binding ExecuteCommand}"
                                        CommandParameter="AddMosbusRtuAutoResponseData"
                                        Content="{md:PackIcon Kind=Add}"
                                        Style="{StaticResource Green_CircleButton}" />
                                </DockPanel>
                            </Grid>

                            <!--  底部区域  -->
                            <StackPanel
                                Height="30"
                                DockPanel.Dock="Bottom"
                                Orientation="Horizontal">
                                <Border
                                    Width="20"
                                    Height="{Binding RelativeSource={RelativeSource self}, Path=Width}"
                                    Margin="10,5"
                                    CornerRadius="10">
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ComConfig.IsOpened}" Value="True">
                                                    <Setter Property="Background" Value="LawnGreen" />
                                                    <Setter Property="hc:Poptip.Content" Value="串口已打开" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding ComConfig.IsOpened}" Value="False">
                                                    <Setter Property="Background" Value="Red" />
                                                    <Setter Property="hc:Poptip.Content" Value="串口已关闭" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                </Border>
                                <TextBlock
                                    Margin="0"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{Binding ComConfig.Port.Key}" />
                                <TextBlock VerticalAlignment="Center" Text=" : " />
                                <TextBlock VerticalAlignment="Center" Text="{Binding ComConfig.Port.Value}" />
                                <TextBlock VerticalAlignment="Center" Text="  " />
                                <TextBlock VerticalAlignment="Center" Text="{Binding ComConfig.Parity}" />
                                <TextBlock VerticalAlignment="Center" Text="  " />
                                <TextBlock VerticalAlignment="Center" Text="{Binding ComConfig.DataBits}" />
                                <TextBlock
                                    Margin="5,0"
                                    VerticalAlignment="Center"
                                    Text="{Binding ComConfig.StopBits}" />

                                <Border
                                    Margin="30,3"
                                    BorderBrush="LightBlue"
                                    BorderThickness="1" />
                                <TextBlock VerticalAlignment="Center" Text="Receive: " />
                                <TextBlock VerticalAlignment="Center" Text="{Binding ReceiveBytesCount}" />
                                <TextBlock VerticalAlignment="Center" Text=" Bytes" />
                                <Border
                                    Margin="30,3"
                                    BorderBrush="LightBlue"
                                    BorderThickness="1" />
                                <TextBlock VerticalAlignment="Center" Text="Send: " />
                                <TextBlock VerticalAlignment="Center" Text="{Binding SendBytesCount}" />
                                <TextBlock VerticalAlignment="Center" Text=" Bytes" />
                            </StackPanel>


                            <!--  匹配设置列表  -->
                            <Border
                                Margin="4,0"
                                Padding="0"
                                DockPanel.Dock="Left"
                                Style="{StaticResource FormBorder}">
                                <DataGrid
                                    hc:DataGridAttach.ShowRowNumber="True"
                                    AutoGenerateColumns="False"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    CanUserSortColumns="False"
                                    FrozenColumnCount="2"
                                    ItemsSource="{Binding MosbusRtuAutoResponseDatas, IsAsync=True}"
                                    RowHeaderWidth="60"
                                    Style="{StaticResource NumDataGrid}">

                                    <!--  添加触发器,支持点击事件  -->
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger EventName="MouseDoubleClick">
                                            <i:InvokeCommandAction Command="{Binding DataContext.OpenMosbusRtuAutoResponseDataEditViewCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=DataGrid}}" CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=DataGrid}, Path=SelectedItem}" />
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>


                                    <DataGrid.Columns>
                                        <DataGridTemplateColumn Header="名称">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBox
                                                        Width="120"
                                                        HorizontalContentAlignment="Center"
                                                        Text="{Binding Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>

                                        <DataGridTemplateColumn Header="匹配模板">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBox
                                                        Width="240"
                                                        HorizontalContentAlignment="Center"
                                                        Text="{Binding MateTemplate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>

                                        <DataGridTemplateColumn Header="应答模板">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBox
                                                        Width="240"
                                                        HorizontalContentAlignment="Center"
                                                        Text="{Binding ResponseTemplate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>

                                        <!--<DataGridTemplateColumn Header="使用正则">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <CheckBox Margin="0" IsChecked="{Binding IsRegular, Mode=TwoWay}" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>-->
                                    </DataGrid.Columns>
                                </DataGrid>
                            </Border>

                            <!--  页面消息  -->
                            <ContentControl
                                Margin="4,0"
                                Padding="4"
                                DockPanel.Dock="Right"
                                Style="{StaticResource Effect2Control}">
                                <hc:ScrollViewer ext:ScrollViewerExtensions.AlwaysScrollToEnd="True" IsInertiaEnabled="True">
                                    <ItemsControl Background="Transparent" ItemsSource="{Binding Messages, IsAsync=True}">
                                        <ItemsControl.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <StackPanel />
                                            </ItemsPanelTemplate>
                                        </ItemsControl.ItemsPanel>
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Border Style="{StaticResource MessageBorder}">
                                                    <WrapPanel Orientation="Horizontal">
                                                        <TextBlock
                                                            Margin="3"
                                                            VerticalAlignment="Center"
                                                            Style="{StaticResource MessageTextBlock}"
                                                            Text="{Binding Time, StringFormat={}{0:yyyy-MM-dd HH:mm:ss}}" />
                                                        <TextBlock
                                                            Margin="5,0"
                                                            VerticalAlignment="Center"
                                                            Style="{StaticResource MessageTextBlock}"
                                                            Text="{Binding Type}" />
                                                        <TextBox
                                                            VerticalAlignment="Center"
                                                            FontSize="12"
                                                            FontWeight="Bold"
                                                            IsReadOnly="True"
                                                            Style="{StaticResource MessageTextBox}"
                                                            Text="{Binding Content}"
                                                            TextWrapping="Wrap" />
                                                    </WrapPanel>
                                                </Border>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </hc:ScrollViewer>
                            </ContentControl>
                        </DockPanel>
                    </md:DrawerHost>
                </md:TransitionerSlide>
            </md:Transitioner>
        </DockPanel>
    </md:DialogHost>
</UserControl>
